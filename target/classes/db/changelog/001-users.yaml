databaseChangeLog:
  - changeSet:
      id: 001-users-table
      author: you
      preConditions:
        - onFail: MARK_RAN
        - not:
            tableExists:
              tableName: users
      changes:
        - createTable:
            tableName: users
            columns:
              - column: { name: id, type: BIGINT, autoIncrement: true,
                          constraints: { primaryKey: true, primaryKeyName: pk_users } }
              - column: { name: email, type: VARCHAR(255), constraints: { nullable: false } }
              - column: { name: username, type: VARCHAR(255), constraints: { nullable: false } }
              - column: { name: full_name, type: VARCHAR(255), constraints: { nullable: false } }
              - column: { name: password, type: VARCHAR(255), constraints: { nullable: false } }
        - addUniqueConstraint:
            tableName: users
            columnNames: email
            constraintName: uq_users_email
        - addUniqueConstraint:
            tableName: users
            columnNames: username
            constraintName: uq_users_username
